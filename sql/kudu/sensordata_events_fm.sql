DROP TABLE IF EXISTS sensordata_events_fm;

CREATE TABLE sensordata_events_fm
(
distinct_id VARCHAR WITH (primary_key=true),
type VARCHAR WITH (primary_key=true),
event VARCHAR WITH (primary_key=true),
time timestamp WITH (primary_key=true),
mystr_uuid VARCHAR WITH (primary_key=true),
mystr_interkafka_ptoffset VARCHAR,
_dwsyncts BIGINT,
user_id double WITH (nullable = true),
date bigint WITH (nullable = true),
"$os" VARCHAR WITH (nullable = true),
"$model" VARCHAR WITH (nullable = true),
"$os_version" VARCHAR WITH (nullable = true),
"$screen_height" double WITH (nullable = true),
"$screen_width" double WITH (nullable = true),
"$lib" VARCHAR WITH (nullable = true),
"$lib_version" VARCHAR WITH (nullable = true),
"$browser" VARCHAR WITH (nullable = true),
"$browser_version" VARCHAR WITH (nullable = true),
"$latest_referrer" VARCHAR WITH (nullable = true),
"$latest_referrer_host" VARCHAR WITH (nullable = true),
"$referrer" VARCHAR WITH (nullable = true),
"$referrer_host" VARCHAR WITH (nullable = true),
"$url" VARCHAR WITH (nullable = true),
"$url_path" VARCHAR WITH (nullable = true),
"$title" VARCHAR WITH (nullable = true),
"$is_first_day" bigint WITH (nullable = true),
"$is_first_time" bigint WITH (nullable = true),
"$ip" VARCHAR WITH (nullable = true),
"$city" VARCHAR WITH (nullable = true),
"$province" VARCHAR WITH (nullable = true),
"$country" VARCHAR WITH (nullable = true),
"$from_vtrack" VARCHAR WITH (nullable = true),
"$app_version" VARCHAR WITH (nullable = true),
"$manufacturer" VARCHAR WITH (nullable = true),
"$wifi" bigint WITH (nullable = true),
"$network_type" VARCHAR WITH (nullable = true),
"$resume_from_background" bigint WITH (nullable = true),
"$screen_name" VARCHAR WITH (nullable = true),
"$event_duration" double WITH (nullable = true),
"$carrier" VARCHAR WITH (nullable = true),
pageurl VARCHAR WITH (nullable = true),
pageurldetail VARCHAR WITH (nullable = true),
buttonname VARCHAR WITH (nullable = true),
buttonhref VARCHAR WITH (nullable = true),
buttontype VARCHAR WITH (nullable = true),
userid double WITH (nullable = true),
username VARCHAR WITH (nullable = true),
"$latest_utm_source" VARCHAR WITH (nullable = true),
"$latest_utm_medium" VARCHAR WITH (nullable = true),
"$latest_utm_campaign" VARCHAR WITH (nullable = true),
"$latest_utm_content" VARCHAR WITH (nullable = true),
"$latest_utm_term" VARCHAR WITH (nullable = true),
"$utm_source" VARCHAR WITH (nullable = true),
"$utm_medium" VARCHAR WITH (nullable = true),
"$utm_campaign" VARCHAR WITH (nullable = true),
"$utm_content" VARCHAR WITH (nullable = true),
"$utm_term" VARCHAR WITH (nullable = true),
"$bot_name" VARCHAR WITH (nullable = true),
referrerurl VARCHAR WITH (nullable = true),
fromurl VARCHAR WITH (nullable = true),
mytestmobile VARCHAR WITH (nullable = true),
userid_ VARCHAR WITH (nullable = true),
nickname VARCHAR WITH (nullable = true),
domain VARCHAR WITH (nullable = true),
regplatform VARCHAR WITH (nullable = true),
regtype VARCHAR WITH (nullable = true),
mobile VARCHAR WITH (nullable = true),
datatype VARCHAR WITH (nullable = true),
firstusetime double WITH (nullable = true),
userid__ double WITH (nullable = true),
nickname_ VARCHAR WITH (nullable = true),
platform VARCHAR WITH (nullable = true),
productprice double WITH (nullable = true),
rid VARCHAR WITH (nullable = true),
rid_ VARCHAR WITH (nullable = true),
account VARCHAR WITH (nullable = true),
"from" double WITH (nullable = true),
logintime double WITH (nullable = true),
pagename VARCHAR WITH (nullable = true),
mobile_ VARCHAR WITH (nullable = true),
nickname__ VARCHAR WITH (nullable = true),
upgradetype VARCHAR WITH (nullable = true),
channel VARCHAR WITH (nullable = true),
type_ VARCHAR WITH (nullable = true),
selectedbroker VARCHAR WITH (nullable = true),
"$device_id" VARCHAR WITH (nullable = true),
userid___ VARCHAR WITH (nullable = true),
platformtype VARCHAR WITH (nullable = true),
"$element_content" VARCHAR WITH (nullable = true),
"$element_type" VARCHAR WITH (nullable = true),
platform_ VARCHAR WITH (nullable = true),
registertime double WITH (nullable = true),
"$track_signup_original_id" VARCHAR WITH (nullable = true),
register_date bigint WITH (nullable = true),
"$element_class_name" VARCHAR WITH (nullable = true),
"$element_target_url" VARCHAR WITH (nullable = true),
"$element_selector" VARCHAR WITH (nullable = true),
"$element_id" VARCHAR WITH (nullable = true),
"$element_name" VARCHAR WITH (nullable = true),
"$element_position" VARCHAR WITH (nullable = true),
title VARCHAR WITH (nullable = true),
regtime VARCHAR WITH (nullable = true),
firstusedate bigint WITH (nullable = true),
amount double WITH (nullable = true),
element_content VARCHAR WITH (nullable = true),
"$is_login_id" bigint WITH (nullable = true),
vcode VARCHAR WITH (nullable = true),
href VARCHAR WITH (nullable = true),
"$latest_traffic_source_type" VARCHAR WITH (nullable = true),
"$latest_search_keyword" VARCHAR WITH (nullable = true),
"$viewport_position" double WITH (nullable = true),
"$viewport_height" double WITH (nullable = true),
"$viewport_width" double WITH (nullable = true),
"$user_agent" VARCHAR WITH (nullable = true),
usertelphone VARCHAR WITH (nullable = true),
productid VARCHAR WITH (nullable = true),
developerid VARCHAR WITH (nullable = true),
"$utm_matching_type" VARCHAR WITH (nullable = true),
zjd_type VARCHAR WITH (nullable = true),
money double WITH (nullable = true),
pathname VARCHAR WITH (nullable = true),
track_time VARCHAR WITH (nullable = true),
code_type VARCHAR WITH (nullable = true),
regvcode double WITH (nullable = true),
getcode_time VARCHAR WITH (nullable = true),
"$short_url_key" VARCHAR WITH (nullable = true),
"$short_url_target" VARCHAR WITH (nullable = true),
nsukey VARCHAR WITH (nullable = true),
status VARCHAR WITH (nullable = true),
broker_time bigint WITH (nullable = true),
broker_id double WITH (nullable = true),
realname_time bigint WITH (nullable = true),
realname VARCHAR WITH (nullable = true),
broker_account VARCHAR WITH (nullable = true),
keyword VARCHAR WITH (nullable = true),
platformtype_ VARCHAR WITH (nullable = true),
"$kafka_offset" double WITH (nullable = true),
number double WITH (nullable = true),
broker_name VARCHAR WITH (nullable = true),
cmd VARCHAR WITH (nullable = true),
trade_category VARCHAR WITH (nullable = true),
trade_products VARCHAR WITH (nullable = true),
blog_type VARCHAR WITH (nullable = true),
event_time bigint WITH (nullable = true),
search_words VARCHAR WITH (nullable = true),
follow_type VARCHAR WITH (nullable = true),
focus_id VARCHAR WITH (nullable = true),
focus_nickname VARCHAR WITH (nullable = true),
url VARCHAR WITH (nullable = true),
path VARCHAR WITH (nullable = true),
name double WITH (nullable = true),
broker_type VARCHAR WITH (nullable = true),
brocker_id double WITH (nullable = true),
brocker_name VARCHAR WITH (nullable = true),
msgswich bigint WITH (nullable = true),
pid VARCHAR WITH (nullable = true),
_latest_act_source VARCHAR WITH (nullable = true),
act_name VARCHAR WITH (nullable = true),
act_source VARCHAR WITH (nullable = true),
clicknum bigint WITH (nullable = true),
store VARCHAR WITH (nullable = true),
user_index VARCHAR WITH (nullable = true),
info VARCHAR WITH (nullable = true),
msg VARCHAR WITH (nullable = true),
time_dns double WITH (nullable = true),
time_tcpip double WITH (nullable = true),
time_request double WITH (nullable = true),
time_screen double WITH (nullable = true),
time_program double WITH (nullable = true),
time_api double WITH (nullable = true),
time_all double WITH (nullable = true),
time_document double WITH (nullable = true),
method VARCHAR WITH (nullable = true),
response_time double WITH (nullable = true),
content_length double WITH (nullable = true),
memory_all double WITH (nullable = true),
memory_external double WITH (nullable = true),
memory_heap_total double WITH (nullable = true),
memory_heap_used double WITH (nullable = true),
project_name VARCHAR WITH (nullable = true),
currentuserid double WITH (nullable = true),
currentaccountindex double WITH (nullable = true),
message VARCHAR WITH (nullable = true),
"$app_state" VARCHAR WITH (nullable = true),
version double WITH (nullable = true),
uid double WITH (nullable = true),
brokerid double WITH (nullable = true),
brokername VARCHAR WITH (nullable = true),
element_title VARCHAR WITH (nullable = true),
urlpath VARCHAR WITH (nullable = true),
errorinfo VARCHAR WITH (nullable = true),
countrycode VARCHAR WITH (nullable = true),
is_success bigint WITH (nullable = true),
err_msg VARCHAR WITH (nullable = true),
if_first_login bigint WITH (nullable = true),
topicid VARCHAR WITH (nullable = true),
topicname VARCHAR WITH (nullable = true),
titlevalue VARCHAR WITH (nullable = true),
switch bigint WITH (nullable = true),
qkname VARCHAR WITH (nullable = true),
topicvalue VARCHAR WITH (nullable = true),
blog_id VARCHAR WITH (nullable = true),
no_interesting_click_blog_id VARCHAR WITH (nullable = true),
source VARCHAR WITH (nullable = true),
language VARCHAR WITH (nullable = true),
web_is_account bigint WITH (nullable = true),
web_is_samebroker bigint WITH (nullable = true),
web_is_binding bigint WITH (nullable = true),
web_is_origin VARCHAR WITH (nullable = true),
web_button_click VARCHAR WITH (nullable = true),
web_present_address VARCHAR WITH (nullable = true),
web_is_login bigint WITH (nullable = true),
source_blog_id VARCHAR WITH (nullable = true),
recommended_blog_id VARCHAR WITH (nullable = true),
recommended_blog_location VARCHAR WITH (nullable = true),
forward_source VARCHAR WITH (nullable = true),
using_language VARCHAR WITH (nullable = true),
using_platform VARCHAR WITH (nullable = true),
home_share VARCHAR WITH (nullable = true),
domestic_web_entrance VARCHAR WITH (nullable = true),
international_web_entrance VARCHAR WITH (nullable = true),
domestic_app_entrance VARCHAR WITH (nullable = true),
international_app_entrance VARCHAR WITH (nullable = true),
broker_location VARCHAR WITH (nullable = true),
user_identity VARCHAR WITH (nullable = true),
device_imei VARCHAR WITH (nullable = true),
click_content VARCHAR WITH (nullable = true),
click_button VARCHAR WITH (nullable = true)
) WITH (
  partition_by_hash_columns = ARRAY['distinct_id', 'type', 'event', 'time', 'mystr_uuid'],
  partition_by_hash_buckets = 48,
  number_of_replicas = 1
);
